# Components ç»„ä»¶ç›®å½•

æœ¬ç›®å½•åŒ…å«äº†é¡¹ç›®ä¸­çš„æ‰€æœ‰ Vue ç»„ä»¶ï¼Œé€šè¿‡ `@uni-ku/bundle-optimizer` æ’ä»¶é…ç½®ä¸ºç‹¬ç«‹åˆ†åŒ…ï¼Œç”¨äºä¼˜åŒ–ä¸»ç¨‹åºåŒ…ä½“ç§¯å¹¶æ”¯æŒè·¨åŒ…ç»„ä»¶è°ƒç”¨ã€‚

## ğŸ“¦ åˆ†åŒ…ä¼˜åŒ–

æœ¬ç›®å½•ä½¿ç”¨ `@uni-ku/bundle-optimizer` æ’ä»¶è¿›è¡Œåˆ†åŒ…å¤„ç†ï¼Œä¸»è¦ä¼˜åŠ¿ï¼š

- **å‡å°ä¸»åŒ…ä½“ç§¯**ï¼šå°†ç»„ä»¶ä»£ç ä»ä¸»åŒ…ä¸­åˆ†ç¦»ï¼Œé™ä½ä¸»åŒ…å¤§å°
- **æŒ‰éœ€åŠ è½½**ï¼šç»„ä»¶æŒ‰éœ€åŠ è½½ï¼Œæå‡åº”ç”¨å¯åŠ¨é€Ÿåº¦
- **è·¨åŒ…è°ƒç”¨**ï¼šæ”¯æŒåœ¨ä¸åŒåˆ†åŒ…é—´è°ƒç”¨ç»„ä»¶ï¼Œä¿æŒä»£ç ç»„ç»‡çµæ´»æ€§

## ğŸ“ ç›®å½•ç»“æ„

```
components/
â”œâ”€â”€ ask-assistant-chat/      # AI åŠ©æ‰‹èŠå¤©ç›¸å…³ç»„ä»¶
â”œâ”€â”€ bd-*.vue                 # BuildingAI è‡ªå®šä¹‰ç»„ä»¶
â”œâ”€â”€ login/                    # ç™»å½•ç›¸å…³ç»„ä»¶
â”œâ”€â”€ model-select/             # æ¨¡å‹é€‰æ‹©ç»„ä»¶
â”œâ”€â”€ user/                     # ç”¨æˆ·ç›¸å…³ç»„ä»¶
â”œâ”€â”€ widget/                   # å°éƒ¨ä»¶ç»„ä»¶
â”œâ”€â”€ uni_modules/              # ç¬¬ä¸‰æ–¹ UniApp ç»„ä»¶åº“
â”‚   â”œâ”€â”€ stream-client/        # æµå¼å®¢æˆ·ç«¯ç»„ä»¶
â”‚   â”œâ”€â”€ half-popup/           # åŠå±å¼¹çª—ç»„ä»¶
â”‚   â””â”€â”€ ...                   # å…¶ä»–ç¬¬ä¸‰æ–¹ç»„ä»¶
â””â”€â”€ index.vue                 # åˆ†åŒ…å…¥å£æ–‡ä»¶
```

## ğŸ¯ ç»„ä»¶åˆ†ç±»

### è‡ªå®šä¹‰ç»„ä»¶

- **bd-***ï¼šBuildingAI å“ç‰Œç»„ä»¶ç³»åˆ—
  - `bd-action-sheet.vue` - æ“ä½œèœå•
  - `bd-checkbox.vue` - å¤é€‰æ¡†
  - `bd-image.vue` - å›¾ç‰‡ç»„ä»¶
  - `bd-markdown/` - Markdown æ¸²æŸ“ç»„ä»¶
  - `bd-modal.vue` - æ¨¡æ€æ¡†
  - `bd-navbar.vue` - å¯¼èˆªæ 
  - `bd-picker.vue` - é€‰æ‹©å™¨
  - `bd-separator.vue` - åˆ†éš”ç¬¦

### ä¸šåŠ¡ç»„ä»¶

- **ask-assistant-chat/**ï¼šAI åŠ©æ‰‹èŠå¤©ç»„ä»¶
- **login/**ï¼šç™»å½•ç›¸å…³ç»„ä»¶
- **model-select/**ï¼šæ¨¡å‹é€‰æ‹©ç»„ä»¶
- **user/**ï¼šç”¨æˆ·ç›¸å…³ç»„ä»¶
- **widget/**ï¼šå°éƒ¨ä»¶ç»„ä»¶

### ç¬¬ä¸‰æ–¹ç»„ä»¶

ä½äº `uni_modules/` ç›®å½•ä¸‹ï¼ŒåŒ…å«ï¼š
- `stream-client` - æµå¼æ•°æ®å®¢æˆ·ç«¯
- `half-popup` - åŠå±å¼¹çª—
- `mp-html` - HTML æ¸²æŸ“ç»„ä»¶
- `swipe-drawer` - æ»‘åŠ¨æŠ½å±‰
- ä»¥åŠå…¶ä»– UniApp å®˜æ–¹å’Œç¤¾åŒºç»„ä»¶

### è·¨åŒ…è°ƒç”¨

ç”±äºç»„ä»¶ä½äºç‹¬ç«‹åˆ†åŒ…ä¸­ï¼Œæ”¯æŒåœ¨ä¸»åŒ…å’Œå…¶ä»–åˆ†åŒ…ä¸­è°ƒç”¨ï¼š

```vue
<script setup>
// ç»„ä»¶ä¼šè‡ªåŠ¨ä»åˆ†åŒ…ä¸­åŠ è½½
import BdModal from '@/components/bd-modal.vue?async'
</script>
```

## âš™ï¸ é…ç½®è¯´æ˜

åˆ†åŒ…é…ç½®ä½äº `pages.config.ts`ï¼š

```typescript
subPackages: [
  {
    root: "components/",
    pages: [{ path: "index" }],
  },
]
```

ä¼˜åŒ–é…ç½®ä½äº `vite.config.ts`ï¼š

```typescript
Optimization({
  enable: {
    optimization: true,
    "async-import": true,
    "async-component": true,
  },
})
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç»„ä»¶å‘½å**ï¼šè‡ªå®šä¹‰ç»„ä»¶å»ºè®®ä½¿ç”¨ `bd-` å‰ç¼€ï¼Œé¿å…ä¸ç¬¬ä¸‰æ–¹ç»„ä»¶å†²çª
2. **ç±»å‹å®šä¹‰**ï¼šç»„ä»¶ç±»å‹å®šä¹‰è‡ªåŠ¨ç”Ÿæˆåœ¨ `src/types/components.d.ts`
3. **å¼‚æ­¥ç»„ä»¶**ï¼šæ”¯æŒä½¿ç”¨ `?async` åç¼€è¿›è¡Œå¼‚æ­¥åŠ è½½
4. **åˆ†åŒ…å¤§å°**ï¼šæ³¨æ„æ§åˆ¶åˆ†åŒ…å¤§å°ï¼Œé¿å…å•ä¸ªåˆ†åŒ…è¿‡å¤§å½±å“åŠ è½½æ€§èƒ½

## ğŸ”— ç›¸å…³é“¾æ¥

- [@uni-ku/bundle-optimizer æ–‡æ¡£](https://github.com/uni-ku/bundle-optimizer)
- [UniApp åˆ†åŒ…é…ç½®](https://uniapp.dcloud.net.cn/collocation/pages.html#subpackages)
- [UniHelper Components æ’ä»¶](https://uni-helper.js.org/vite-plugin-uni-components/)
